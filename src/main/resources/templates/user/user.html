<!DOCTYPE html>
<html lang="en" >
<head data-th-replace="~{fragments/header :: headerFragment}" >
  <meta charset="UTF-8" >
  <title >Success Student Management System</title >
</head >
<body style="margin-top: 90px;">
<nav data-th-replace="~{fragments/navBar :: navBarFragment}" ></nav >



      <div class="card bg-gradient-light text-center">
        <h1> User List</h1>
      </div>

      <div class="form-row mt-4" >
        <a  data-th-href="${'/user/add'}" ><button class="btn btn-success mr-2">
          <i class="fa fa-user-plus"  ></i > &nbsp; Add User Employee</button></a >
        <a  data-th-href="${'/user/teacherAdd'}" ><button class="btn btn-success mr-2">
          <i class="fa fa-user-plus"  ></i > &nbsp; Add User Teacher</button></a >
        <a  data-th-href="${'/user/studentAdd'}" ><button class="btn btn-success mr-2">
          <i class="fa fa-user-plus"  ></i > &nbsp; Add User Student</button></a >
      </div >
<div class="container-fluid  " >
  <div class="col-sm-12 flex-column " >
    <div class="row" id="userListTable" data-th-if="${not #lists.isEmpty(users)}" >
      <div class="col-sm-12" >
        <table class="table  table-striped" id="myTable" >
          <thead class="thead-inverse" >
          <tr >
            <th >Index</th >
            <th >User Name</th >
            <th >First Name</th >
            <th >User Status</th >
<!--            <th >User Type</th >-->
            <th >Created Date</th >
            <th >Modify</th >
          </tr >
          </thead >
          <tbody >
          <tr data-th-each="user, rowCount : ${users}" scope="row" >
            <th data-th-text="${rowCount.count}" ></th >
            <th data-th-text="${user.username}" ></th >
            <th >
              <span data-th-if="${user.employee != null}" data-th-text="${user.employee.name}" ></span >
              <span data-th-if="${user.teacher != null}" data-th-text="${user.teacher.firstName}" ></span >
              <span data-th-if="${user.student != null}" data-th-text="${user.student.firstName}" ></span >
            </th >
            <th data-th-text="${user.enabled==true?'Active':'Blocked'}" ></th >
            <th data-th-text="${{user.createdAt}}" ></th >
            <th >
              <a  id="userView" ><button class="btn btn-success">
                <i class="fa fa-folder-open" data-th-href="${'/user/view/' + user.id}" ></i >&nbsp;View </button></a >
              <a  id="userEdit" data-th-href="${'/user/edit/' + user.id}" ><button class="btn btn-primary ">
                <i class="fa fa-edit" ></i >&nbsp;Edit</button></a >
              <a  id="userRemove" data-th-href="${'/user/remove/' + user.id}"><button class="btn btn-danger ">
<!--                 data-th-if="${#authorization.expression('hasRole(''ROLE_ADMIN'')')}">-->
              <i aria-hidden="true" class="fa fa-trash" ></i >Delete</button></a >
            </th >
          </tr >
          </tbody >
        </table >
      </div >
    </div >
    <div class="row" id="userNotList" data-th-if="${ #lists.isEmpty(users)}" >
      <div class="col-sm-12" >
        <div class="alert alert-warning alert-dismissible fade show" role="alert" >
          <button type="button" class="close" data-dismiss="alert" aria-label="Close" >
            <span aria-hidden="true" >&times;</span >
          </button >
          <h3 class="text-center text-danger" >
            <strong >There is no user upto know please add user to the system
                     using add user button.
            </strong >
          </h3 >
        </div >
      </div >
    </div >
  </div >
</div >

<!--footer include-->
<div data-th-replace="~{fragments/footer :: footerFragment}" ></div >
<!--script include-->
<div data-th-replace="~{fragments/script :: scriptFragment}" ></div >

<script >
    /*active boostrap alert - start*/
    $(".alert").alert();
    /*active boostrap alert - end*/
</script >
</body >
</html >
